{"version":3,"sources":["components/ImageGalleryItem/ImageGalleryItem.module.css","components/ImageGallery/ImageGallery.module.css","components/Notification/Notification.module.css","components/Loader/Loader.module.css","components/Searchbar/Searchbar.module.css","utils/images-api.js","components/ImageGalleryItem/ImageGalleryItem.js","components/ImageGallery/ImageGallery.js","components/Searchbar/Searchbar.js","components/Notification/Notification.js","components/Modal/Modal.js","components/Button/Button.js","components/Loader/Loader.js","App.js","index.js","components/Modal/Modal.module.css","components/Button/Button.module.css"],"names":["module","exports","BASE_URL","options","fetchImages","value","page","axios","get","process","ImageGalleryItem","item","onClickImage","onClick","src","webformatURL","data-src","largeImageURL","alt","className","styles","ImageGalleryItemImage","ImageGallery","items","length","map","key","id","Searchbar","state","searchValue","handleInputChange","e","setState","target","handleSubmit","onSubmit","props","preventDefault","resetForm","this","SearchForm","SearchFormInput","type","autoComplete","autoFocus","placeholder","onChange","SearchFormButton","SearchFormButtonLabel","Component","Notification","message","notification","Modal","overlayRef","createRef","hadleKeypress","onCloseModal","code","handleOverlayCLick","current","window","addEventListener","removeEventListener","url","Overlay","ref","image","Button","title","OnloadMore","disadled","buttonClasses","disabled","container","defaultProps","myLoader","loader","color","height","width","timeout","App","images","error","isLoading","IsModalOpen","imageForModal","currentQuery","currentPage","isLastPage","isImagesNotFound","fetchImagesAPI","then","res","data","lengthOfHitsArray","hits","concat","status","scrollPage","catch","finally","updateCurrentQueryParams","closeModal","getUrlForModal","dataset","scrollTo","top","document","documentElement","scrollHeight","behavior","prevProps","prevState","Loader","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.9b77fd62.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItemImage\":\"ImageGalleryItem_ImageGalleryItemImage__hdVR-\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__3Bm8i\",\"ImageGalleryItem\":\"ImageGallery_ImageGalleryItem__3ESQa\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"notification\":\"Notification_notification__EqAeH\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loader\":\"Loader_loader__22LJc\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__2T23c\",\"SearchForm\":\"Searchbar_SearchForm__281Cg\",\"SearchFormButton\":\"Searchbar_SearchFormButton__2Yj4H\",\"SearchFormButtonLabel\":\"Searchbar_SearchFormButtonLabel__K6T3p\",\"SearchFormInput\":\"Searchbar_SearchFormInput__3Q3ve\"};","import axios from 'axios';\n\nconst BASE_URL = 'https://pixabay.com/api/?q=';\nconst options = 'image_type=photo&orientation=horizontal&per_page=12';\n\nconst fetchImages = (value = 'flower', page = 1) => {\n  return axios.get(\n    `${BASE_URL}${value}&page=${page}&key=${process.env.REACT_APP_API_KEY}&${options}`,\n  );\n};\n\nexport default fetchImages;\n","import React from 'react';\nimport propTypes from 'prop-types';\nimport styles from './ImageGalleryItem.module.css';\n\nconst ImageGalleryItem = ({ item, onClickImage }) => {\n  return (\n    <img\n      onClick={onClickImage}\n      src={item.webformatURL}\n      data-src={item.largeImageURL}\n      alt=\"\"\n      className={styles.ImageGalleryItemImage}\n    />\n  );\n};\n\nImageGalleryItem.propTypes = {\n  item: propTypes.shape({\n    webformatURL: propTypes.string.isRequired,\n    largeImageURL: propTypes.string.isRequired,\n  }).isRequired,\n  onClickImage: propTypes.func.isRequired,\n};\n\nexport default ImageGalleryItem;\n","import React from 'react';\nimport propTypes from 'prop-types';\nimport ImageGalleryItem from '../ImageGalleryItem/ImageGalleryItem';\nimport styles from './ImageGallery.module.css';\n\nconst ImageGallery = ({ items, onClickImage }) => {\n  return (\n    items.length > 0 && (\n      <ul className={styles.ImageGallery}>\n        {items.map(item => {\n          return (\n            <li key={item.id}>\n              <ImageGalleryItem item={item} onClickImage={onClickImage} />\n            </li>\n          );\n        })}\n      </ul>\n    )\n  );\n};\n\nImageGallery.propTypes = {\n  items: propTypes.arrayOf(\n    propTypes.shape({\n      id: propTypes.number.isRequired,\n    }),\n  ).isRequired,\n  onClickImage: propTypes.func.isRequired,\n};\n\nexport default ImageGallery;\n","import React, { Component } from 'react';\nimport propTypes from 'prop-types';\nimport styles from './Searchbar.module.css';\n\nclass Searchbar extends Component {\n  state = {\n    searchValue: '',\n  };\n\n  handleInputChange = e => {\n    this.setState({\n      searchValue: e.target.value,\n    });\n  };\n\n  handleSubmit = e => {\n    const { onSubmit } = this.props;\n    const { searchValue } = this.state;\n    e.preventDefault();\n    onSubmit(searchValue);\n    this.resetForm();\n  };\n\n  resetForm = () => {\n    this.setState({\n      searchValue: '',\n    });\n  };\n\n  render() {\n    const { searchValue } = this.state;\n\n    return (\n      <header className={styles.Searchbar}>\n        <form className={styles.SearchForm} onSubmit={this.handleSubmit}>\n          <input\n            className={styles.SearchFormInput}\n            type=\"text\"\n            autoComplete=\"off\"\n            autoFocus\n            placeholder=\"Search images and photos\"\n            value={searchValue}\n            onChange={this.handleInputChange}\n          />\n          <button type=\"submit\" className={styles.SearchFormButton}>\n            <span className={styles.SearchFormButtonLabel}>Search</span>\n          </button>\n        </form>\n      </header>\n    );\n  }\n}\n\nSearchbar.propTypes = {\n  onSubmit: propTypes.func.isRequired,\n};\n\nexport default Searchbar;\n","import React from 'react';\nimport propTypes from 'prop-types';\nimport styles from './Notification.module.css';\n\nconst Notification = ({ message }) => (\n  <div className={styles.notification}>\n    {/* eslint-disable-next-line react/jsx-one-expression-per-line */}\n    <h1>Oops : {message}...</h1>\n  </div>\n);\n\nNotification.propTypes = {\n  message: propTypes.string.isRequired,\n};\n\nexport default Notification;\n","import React, { Component, createRef } from 'react';\nimport propTypes from 'prop-types';\nimport styles from './Modal.module.css';\n\nexport default class Modal extends Component {\n  overlayRef = createRef();\n\n  componentDidMount() {\n    window.addEventListener('keydown', this.hadleKeypress);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('keydown', this.hadleKeypress);\n  }\n\n  hadleKeypress = e => {\n    const { onCloseModal } = this.props;\n    if (e.code !== 'Escape') return;\n\n    onCloseModal();\n  };\n\n  handleOverlayCLick = e => {\n    const { onCloseModal } = this.props;\n    if (e.target === this.overlayRef.current) {\n      onCloseModal();\n    }\n  };\n\n  render() {\n    const { url } = this.props;\n\n    return (\n      <div\n        className={styles.Overlay}\n        ref={this.overlayRef}\n        onClick={this.handleOverlayCLick}\n      >\n        <div className={styles.Modal}>\n          <img src={url} alt=\"\" className={styles.image} />\n        </div>\n      </div>\n    );\n  }\n}\n\nModal.propTypes = {\n  url: propTypes.string.isRequired,\n  onCloseModal: propTypes.func.isRequired,\n};\n","import React from 'react';\nimport propTypes from 'prop-types';\nimport styles from './Button.module.css';\n\nconst Button = ({ title, OnloadMore, disadled }) => {\n  const buttonClasses = disadled ? styles.disabled : styles.Button;\n\n  return (\n    <div className={styles.container}>\n      <button\n        type=\"button\"\n        className={buttonClasses}\n        onClick={OnloadMore}\n        disabled={disadled}\n      >\n        {title}\n      </button>\n    </div>\n  );\n};\n\nButton.defaultProps = {\n  OnloadMore: null,\n};\n\nButton.propTypes = {\n  title: propTypes.string.isRequired,\n  disadled: propTypes.bool.isRequired,\n  OnloadMore: propTypes.func,\n};\n\nexport default Button;\n","import React from 'react';\nimport 'react-loader-spinner/dist/loader/css/react-spinner-loader.css';\nimport Loader from 'react-loader-spinner';\nimport styles from './Loader.module.css';\n\nconst myLoader = () => {\n  return (\n    <div className={styles.loader}>\n      <Loader\n        type=\"ThreeDots\"\n        color=\"#403a39\"\n        height={100}\n        width={100}\n        timeout={5000}\n      />\n    </div>\n  );\n};\n\nexport default myLoader;\n","import React, { Component } from 'react';\nimport 'react-loader-spinner/dist/loader/css/react-spinner-loader.css';\nimport fetchImagesAPI from './utils/images-api';\nimport ImageGallery from './components/ImageGallery/ImageGallery';\nimport Searchbar from './components/Searchbar/Searchbar';\nimport Notification from './components/Notification/Notification';\nimport Modal from './components/Modal/Modal';\nimport Button from './components/Button/Button';\nimport Loader from './components/Loader/Loader';\n\nexport default class App extends Component {\n  state = {\n    images: [],\n    error: null,\n    isLoading: false,\n    IsModalOpen: false,\n    imageForModal: null,\n    currentQuery: '',\n    currentPage: 1,\n    isLastPage: false,\n    isImagesNotFound: false,\n  };\n\n  componentDidMount() {\n    this.setState({\n      currentQuery: 'Skywalker',\n    });\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    const { currentPage, currentQuery } = this.state;\n\n    if (\n      prevState.currentPage !== currentPage ||\n      prevState.currentQuery !== currentQuery\n    ) {\n      this.fetchImages(currentQuery, currentPage);\n    }\n  }\n\n  fetchImages = (value, page) => {\n    this.setState({\n      isLoading: true,\n    });\n\n    fetchImagesAPI(value, page)\n      .then(res => {\n        const { data } = res;\n        const { currentPage } = this.state;\n        const lengthOfHitsArray = data.hits.length;\n        this.setState(state => {\n          return {\n            isLastPage:\n              (lengthOfHitsArray > 0 && lengthOfHitsArray < 12) || false,\n            images: state.images.concat(data.hits),\n            isImagesNotFound: lengthOfHitsArray < 1,\n            error: res.status === 200 ? null : data.status,\n          };\n        });\n\n        if (currentPage > 1) {\n          this.scrollPage();\n        }\n      })\n      .catch(error => this.setState({ error }))\n      .finally(() => this.setState({ isLoading: false }));\n  };\n\n  onSubmit = value => {\n    this.updateCurrentQueryParams(value);\n  };\n\n  closeModal = () => {\n    this.setState({\n      IsModalOpen: false,\n    });\n  };\n\n  getUrlForModal = e => {\n    const url = e.target.dataset.src;\n    this.setState({\n      imageForModal: url,\n      IsModalOpen: true,\n    });\n  };\n\n  scrollPage = () => {\n    window.scrollTo({\n      top: document.documentElement.scrollHeight,\n      behavior: 'smooth',\n    });\n  };\n\n  OnloadMore = () => {\n    this.setState(state => {\n      return { currentPage: state.currentPage + 1 };\n    });\n  };\n\n  updateCurrentQueryParams = value => {\n    this.setState({\n      images: [],\n      currentQuery: value,\n      currentPage: 1,\n    });\n  };\n\n  render() {\n    const {\n      images,\n      isLoading,\n      error,\n      IsModalOpen,\n      imageForModal,\n      isLastPage,\n      isImagesNotFound,\n    } = this.state;\n\n    return (\n      <>\n        <Searchbar onSubmit={this.onSubmit} />\n        {error && <Notification message={error.message} />}\n\n        {IsModalOpen && (\n          <Modal url={imageForModal} onCloseModal={this.closeModal} />\n        )}\n\n        {images.length > 0 && (\n          <ImageGallery items={images} onClickImage={this.getUrlForModal} />\n        )}\n\n        {!isLastPage && !isImagesNotFound && !error && !isLoading && (\n          <Button\n            title=\"Load More\"\n            OnloadMore={this.OnloadMore}\n            disadled={false}\n          />\n        )}\n\n        {isLastPage && !isLoading && (\n          <Button title=\"Sorry, that's all\" disadled />\n        )}\n\n        {isImagesNotFound && (\n          <Notification message=\"Images not found,try something else\" />\n        )}\n        {isLoading && <Loader />}\n      </>\n    );\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__3z_sK\",\"Modal\":\"Modal_Modal__2xQOx\",\"image\":\"Modal_image__33vj9\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Button_container__2xpLX\",\"Button\":\"Button_Button__261or\",\"disabled\":\"Button_disabled__2Z_Mv Button_Button__261or\"};"],"sourceRoot":""}